(this.webpackJsonpvenu=this.webpackJsonpvenu||[]).push([[0],{60:function(e,t,a){},65:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(20),r=a.n(c),i=a(14),l=(a(60),a(9)),o=a(7),j=(a(61),a(62),a(65),a(94)),b=a(95),d=a(52),m=a(28),u=a(33),O=a(101),x=a(99),h=a(93),g=a(51),f=a(1);var k=function(e){e.user;var t=e.setUser,a=Object(s.useState)({firstname:"",lastname:"",email:""}),n=Object(l.a)(a,2),c=n[0],r=n[1],i=Object(s.useState)({}),o=Object(l.a)(i,2),j=o[0],b=o[1];function d(e){r(Object(u.a)(Object(u.a)({},c),{},Object(m.a)({},e.target.name,e.target.value)))}return Object(f.jsxs)(O.a,{id:"login",children:[Object(f.jsx)(O.a.Title,{className:"text-center",children:"Sign up to check the Headlines!"}),Object(f.jsxs)(x.a,{onSubmit:function(e){e.preventDefault();var a={};""==c.firstname&&(a.firstname="First Name is required."),""==c.lastname&&(a.lastname="Last Name is required."),g.validate(c.email)||(a.email="Please enter a valid email address."),0===Object.entries(a).length?(t(Object(u.a)({},c)),localStorage.setItem("firstname",c.firstname),localStorage.setItem("lastname",c.lastname),localStorage.setItem("email",c.email)):b(a)},children:[Object(f.jsxs)(x.a.Group,{controlId:"firstname",children:[Object(f.jsx)(x.a.Label,{children:"First Name:"}),Object(f.jsx)(x.a.Control,{type:"text",name:"firstname",onChange:d,value:c.firstname,isInvalid:j.firstname}),Object(f.jsx)(x.a.Control.Feedback,{type:"invalid",children:j.firstname})]})," ",Object(f.jsxs)(x.a.Group,{controlId:"lastname",children:[Object(f.jsx)(x.a.Label,{children:"Last Name:"}),Object(f.jsx)(x.a.Control,{type:"text",name:"lastname",onChange:d,value:c.lastname,isInvalid:j.lastname}),Object(f.jsx)(x.a.Control.Feedback,{type:"invalid",children:j.lastname})]})," ",Object(f.jsxs)(x.a.Group,{controlId:"email",children:[Object(f.jsx)(x.a.Label,{children:"Email:"}),Object(f.jsx)(x.a.Control,{type:"text",name:"email",onChange:d,value:c.emailname,isInvalid:j.email}),Object(f.jsx)(x.a.Control.Feedback,{type:"invalid",children:j.email})]})," ",Object(f.jsx)(x.a.Control,{as:h.a,type:"submit",children:"Login"})]})]})};var v=function(e){var t=e.user,a=e.setUser,s=e.bookmarks;return Object(f.jsx)(f.Fragment,{children:t?Object(f.jsx)(o.a,{to:"/reading-list"==localStorage.getItem("lastPage")&&0!=s.length?"/reading-list":"/news"}):Object(f.jsx)(j.a,{className:"page",children:Object(f.jsx)(b.a,{children:Object(f.jsx)(d.a,{xs:12,md:{span:6,offset:3},children:Object(f.jsx)(k,{user:t,setUser:a})})})})})},p=a(96),S=a(30),I=a.n(S),N=a(40),C=a(23),P=a(24);var L=function(e){var t=e.id,a=e.number,n=e.bookmarks,c=e.setBookmarks,r=Object(o.g)(),i=Object(s.useState)(),j=Object(l.a)(i,2),m=j[0],u=j[1];return Object(s.useEffect)((function(){var e=!0;return e&&I.a.get("https://hacker-news.firebaseio.com/v0/item/".concat(t,".json")).then((function(e){u(e.data)})).catch((function(e){console.log(e)})),function(){return e=!1}}),[t]),Object(f.jsx)(b.a,{children:Object(f.jsx)(d.a,{xs:12,children:m?Object(f.jsxs)(O.a,{className:"preview",children:[n.includes(t)?Object(f.jsx)(h.a,{variant:"info",className:"bookmark",onClick:function(e){var a=Object(N.a)(n),s=n.indexOf(t);a.splice(s,1),c(a),e.target.blur()},title:"Remove from Reading List",children:Object(f.jsx)(C.a,{icon:P.a})}):Object(f.jsx)(h.a,{variant:"outline-info",className:"bookmark",onClick:function(e){c(n?[].concat(Object(N.a)(n),[t]):[t]),e.target.blur()},title:"Add to Reading List",children:Object(f.jsx)(C.a,{icon:P.a})}),Object(f.jsxs)("a",{href:m.url,title:"Read the full story.",onClick:function(){localStorage.setItem("lastPage",r.pathname)},children:[" ",Object(f.jsxs)(O.a.Title,{children:[a,". ",m.title]}),Object(f.jsx)(O.a.Body,{children:Object(f.jsxs)("div",{className:"details",children:["Points: ",m.score," | By: ",m.by," | Comments:"," ",m.descendants]})})]})," "]}):Object(f.jsx)(O.a,{className:"loading-spinner",children:Object(f.jsxs)(O.a.Body,{children:[Object(f.jsx)(p.a,{animation:"border",role:"status"}),Object(f.jsx)("div",{children:"Loading..."})]})})})})},B=a(102);var y=function(e){var t=e.count,a=e.activePage,n=e.setActivePage,c=e.storiesPerPage,r=Object(s.useState)(),i=Object(l.a)(r,2),o=i[0],j=i[1];function b(e){n(e),localStorage.setItem("recentPage",e),window.scrollTo(0,0)}return Object(s.useEffect)((function(){j(Math.ceil(t/c))}),[t]),Object(f.jsxs)(B.a,{className:"pagination",children:[Object(f.jsx)(B.a.First,{onClick:function(){return b(1)},disabled:1===a}),Object(f.jsx)(B.a.Ellipsis,{disabled:!0}),function(){for(var e=[],t=function(t){t!=a&&t!=a+1&&t!=a-1||e.push(Object(f.jsx)(B.a.Item,{onClick:function(){return b(t)},active:t===a,children:t},t))},s=1;s<=o;s++)t(s);return e}(),Object(f.jsx)(B.a.Ellipsis,{disabled:!0}),Object(f.jsx)(B.a.Last,{onClick:function(){return b(o)},disabled:a===o})]})};var F=function(e){var t=e.user;return Object(f.jsx)(f.Fragment,{children:t&&Object(f.jsx)(b.a,{children:Object(f.jsx)(d.a,{xs:12,children:Object(f.jsxs)(O.a,{id:"profile",children:[Object(f.jsx)(C.a,{icon:P.b}),Object(f.jsxs)("div",{children:[t.firstname," ",t.lastname," | ",t.email]})]})})})})};var w=function(e){var t=e.user,a=e.bookmarks,n=e.setBookmarks,c=Object(s.useState)([]),r=Object(l.a)(c,2),i=r[0],m=r[1],u=Object(s.useState)(!1),x=Object(l.a)(u,2),h=x[0],g=x[1],k=Object(s.useState)(Number(localStorage.getItem("recentPage"))||1),v=Object(l.a)(k,2),S=v[0],N=v[1],C=Object(s.useState)(),P=Object(l.a)(C,2),B=P[0],w=P[1];return Object(s.useEffect)((function(){var e=!0;return e&&I.a.get("https://hacker-news.firebaseio.com/v0/topstories.json").then((function(e){m(e.data),g(!0)})),function(){return e=!1}}),[]),Object(s.useEffect)((function(){var e=!0;if(e){for(var t=[],s=10*(S-1);s!=i.length&&s<10*S;s++)t.push(Object(f.jsx)(L,{number:s+1,id:i[s],bookmarks:a,setBookmarks:n},i[s]));w(t)}return function(){return e=!1}}),[i,S,a]),Object(f.jsx)(f.Fragment,{children:t?Object(f.jsxs)(j.a,{className:"page",children:[Object(f.jsx)(F,{user:t}),Object(f.jsx)(b.a,{children:Object(f.jsx)(d.a,{xs:12,children:Object(f.jsxs)(O.a,{children:[Object(f.jsx)(O.a.Title,{className:"text-center",children:"Top Stories"}),h?Object(f.jsxs)(O.a.Body,{children:[Object(f.jsx)(y,{count:i.length,storiesPerPage:10,activePage:S,setActivePage:N}),B&&B.map((function(e){return e})),Object(f.jsx)(y,{count:i.length,storiesPerPage:10,activePage:S,setActivePage:N})]}):Object(f.jsx)(O.a,{className:"loading-spinner",children:Object(f.jsxs)(O.a.Body,{children:[Object(f.jsx)(p.a,{animation:"border",role:"status"}),Object(f.jsx)("div",{children:"Loading..."})]})})]})})})]}):Object(f.jsx)(o.a,{to:"/"})})};var E=function(e){var t=e.user,a=e.bookmarks,s=e.setBookmarks;return Object(f.jsx)(f.Fragment,{children:t&&a.length>0?Object(f.jsxs)(j.a,{className:"page",children:[Object(f.jsx)(F,{user:t}),Object(f.jsx)(b.a,{children:Object(f.jsx)(d.a,{xs:12,children:Object(f.jsxs)(O.a,{children:[Object(f.jsx)(O.a.Title,{className:"text-center",children:"Reading List"}),a.map((function(e,t){return Object(f.jsx)(L,{number:t+1,id:e,bookmarks:a,setBookmarks:s},e)}))]})})})]}):Object(f.jsx)(o.a,{to:"/"})})},T=a(98),U=a(100),R=a(97);var A=function(e){var t=e.user,a=e.setUser,s=e.bookmarks,n=e.setBookmarks,c=Object(o.g)();return Object(f.jsxs)(T.a,{bg:"light",expand:"lg",children:[Object(f.jsx)(T.a.Brand,{as:i.b,to:"/",children:Object(f.jsx)("h1",{children:"News Hacker"})}),t&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(T.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(f.jsx)(T.a.Collapse,{id:"basic-navbar-nav",children:Object(f.jsxs)(U.a,{className:"ml-auto",children:[Object(f.jsx)(U.a.Link,{as:i.b,to:"/news",active:"/news"===c.pathname,children:"| News"}),s.length>0&&Object(f.jsxs)(U.a.Link,{as:i.b,to:"/reading-list",active:"/reading-list"===c.pathname,children:["| Reading List ",Object(f.jsxs)(R.a,{children:["(",s.length,")"]})]}),Object(f.jsx)(U.a.Link,{onClick:function(){a(null),n([]),localStorage.clear()},children:"| Logout"})]})})]})]})};var J=function(){var e=Object(o.f)();localStorage.getItem("lastPage")&&e.push(localStorage.getItem("lastPage"));var t=Object(s.useState)(),a=Object(l.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(JSON.parse(localStorage.getItem("bookmarks"))||[]),i=Object(l.a)(r,2),j=i[0],b=i[1];return Object(s.useEffect)((function(){localStorage.getItem("firstname")&&localStorage.getItem("lastname")&&localStorage.getItem("email")&&c({firstname:localStorage.getItem("firstname"),lastname:localStorage.getItem("lastname"),email:localStorage.getItem("email")})}),[]),Object(s.useEffect)((function(){localStorage.setItem("bookmarks",JSON.stringify(j))}),[j]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(A,{user:n,setUser:c,bookmarks:j,setBookmarks:b}),Object(f.jsx)(o.b,{exact:!0,path:"/",render:function(){return Object(f.jsx)(v,{user:n,setUser:c,bookmarks:j})}}),Object(f.jsx)(o.b,{exact:!0,path:"/news",render:function(){return Object(f.jsx)(w,{user:n,setUser:c,bookmarks:j,setBookmarks:b})}}),Object(f.jsx)(o.b,{exact:!0,path:"/reading-list",render:function(){return Object(f.jsx)(E,{user:n,setUser:c,bookmarks:j,setBookmarks:b})}})," "]})},G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,103)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};r.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(i.a,{basename:"/",children:Object(f.jsx)(J,{})})}),document.getElementById("root")),G()}},[[91,1,2]]]);
//# sourceMappingURL=main.387c37a6.chunk.js.map